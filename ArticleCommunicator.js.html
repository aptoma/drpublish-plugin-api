<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>DocStrap Source: ArticleCommunicator.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cosmo.css">

</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top navbar-inverse">
		<div class="navbar-inner">
			<a class="brand" href="index.html">DocStrap</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="module-AppApi.html">AppApi</a>
						</li>
						
						<li>
							<a href="Article.html">AppAPI/Article</a>
						</li>
						
						<li>
							<a href="Editor.html">AppAPI/Editor</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="global.html#Listeners">Listeners</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
			<div class="span12">
				
				<div id="main">
					


		<h1 class="page-title">Source: ArticleCommunicator.js</h1>
    
<section>
	<article>
		<pre
			class="sunlight-highlight-javascript linenums">/* global AppAPI: true */

/* jshint maxstatements:44 */

AppAPI.Article = (function() {
    "use strict";

    /**
     * This class is used for communicating with the article, typically setting and getting values of metadata or in the article content itself.
     *
     * @class
     * @classdesc Functions for talking with the DrPublish article object. Accessed through AppAPI.Article
     * @exports AppAPI/Article
     */
    var ArticleCommunicator = function() {
        this.DEBUG = false;
    };

    /**
     * Give focus to yourself
     *
     * @param {Function} callback function(Boolean), called as the app gets focus
     */
    ArticleCommunicator.prototype.focusApp = function(callback) {
        AppAPI.request("app-focus", {}, callback);
    };
    /**
     * Start the given app
     *
     * @param {String} name Name of the app from settings.php
     * @param {Object} options Options for initializing the app
     * @param {Function} callback function(Boolean), called after app is started
     */
    ArticleCommunicator.prototype.startApp = function(name, options, callback) {
        AppAPI.request("app-start", {
            app: name,
            option: options
        }, callback);
    };

    /**
     * Stop the given app
     *
     * @param {String} name Name of the app from settings.php
     */
    ArticleCommunicator.prototype.stopApp = function(name) {
        AppAPI.request("app-stop", {
            app: name
        });
    };

    /**
     * Get the id of the article currently edited
     *
     * @param {Function} callback function(Int), id of the current article
     */
    ArticleCommunicator.prototype.getId = function(callback) {
        AppAPI.request('article-id-get', null, callback);
    };

    /**
     * Clear the meta information summary
     *
     * @param {Function} callback function(Boolean), called when meta data has been cleared
     */
    ArticleCommunicator.prototype.clearMetaInfo = function(callback) {
        AppAPI.request("article-metainfo-clear", null, callback);
    };

    /**
     * Get tags used in the article
     *
     * @param {Function} callback function([Object Tag]), array with tags connected to an article
     */
    ArticleCommunicator.prototype.getTags = function(callback) {
        AppAPI.request("article-tags-get", null, callback);
    };

    /**
     * Retrieve custom meta value for the article
     *
     * @param {String} name Name of the custom meta value
     * @param {Function} callback function(Object), the parameter is an object containing the given custom meta value
     */
    ArticleCommunicator.prototype.getCustomMeta = function(name, callback) {
        AppAPI.request('article-custom-meta-get', {
            name: name
        }, callback);
    };

    /**
     * Set custom meta value for the article
     *
     * @param {String} name Name of the meta value
     * @param {Object} value Value to set
     * @param {Function} callback function()
     */
    ArticleCommunicator.prototype.setCustomMeta = function(name, value, callback) {
        AppAPI.request('article-custom-meta-set', {
            name: name,
            value: value
        }, callback);
    };

    /**
     * Set tags for the article
     *
     * @param {Array} tags List of tags that should be set
     * @param {Boolean} save Set to true to force save once the tags are updated
     * @param {Function} callback function(Boolean), called when tags have been set
     */
    ArticleCommunicator.prototype.setTags = function(tags, save, callback) {
        AppAPI.request('article-tags-set', {
            save: save,
            tags: tags
        }, callback);
    };

    /**
     * Add tag for the article
     *
     * @param {String} tag Tag to be added
     * @param {Function} errorFunction called if error
     * @param {Function} callback function(Boolean), called when tag has been set
     */
    ArticleCommunicator.prototype.addTag = function(tag, errorFunction, callback) {
        AppAPI.request('article-tags-add', {
            tag: tag,
            onError: errorFunction
        }, callback);
    };

    /**
     * Remove tag from article
     *
     * @param {String} tag Tag to remove
     * @param {Function} callback function(Boolean), called when tag has been removed
     */
    ArticleCommunicator.prototype.removeTag = function(tag, callback) {
        AppAPI.request('article-tags-remove', {
            tag: tag
        }, callback);
    };

    /**
     * Get the selected categories
     *
     * @param {Function} callback function([String]), array with category ids
     */
    ArticleCommunicator.prototype.getSelectedCategories = function(callback) {
        AppAPI.request('article-categories-selected-get', null, callback);
    };

    /**
     * Save the currently selected categories
     *
     * @param {Function} callback function(Boolean), called when categories has been saved
     */
    ArticleCommunicator.prototype.saveCategories = function(callback) {
        this.getSelectedCategories(function(categories) {
            this.setCategories(categories, callback);
        });
    };

    /**
     * Set selected categories
     *
     * @param {Array} categories List of category IDs that should be set
     * @param {Function} callback function(Boolean), called when categories have been set
     */
    ArticleCommunicator.prototype.setCategories = function(categories, callback) {
        AppAPI.request('article-categories-selected-set', {
            categories: categories
        }, callback);
    };

    /**
     * Add the given categories to the list of categories
     *
     * @param {Array} categories List of category IDs to add
     * @param {Function} callback function(Boolean), called when the categories have been set
     */
    ArticleCommunicator.prototype.addCategories = function(categories, callback) {

        AppAPI.request('article-categories-add', {
            categories: categories
        }, callback);
    };

    /**
     * Remove the given categories from the list of categories
     *
     * @param {Array} categories List of category IDs to remove
     * @param {Function} callback function(Boolean), called when the categories have been removed
     */
    ArticleCommunicator.prototype.removeCategories = function(categories, callback) {
        AppAPI.request('article-categories-remove', {
            categories: categories
        }, callback);
    };

    /**
     * Set the main category of the current article
     *
     * @param {Number} category The ID of the category to set as the main category
     * @param {Function} callback function(Boolean), called when the main category has been set
     */
    ArticleCommunicator.prototype.setMainCategory = function(category, callback) {
        AppAPI.request('article-categories-main-set', {
            category: category
        }, callback);
    };

    /**
     * Get the source set for the article
     *
     * @param {Function} callback function(String), name of the source
     */
    ArticleCommunicator.prototype.getSource = function(callback) {

        AppAPI.request('article-source-get', null, callback);
    };

    /**
     * Set the source for the article
     *
     * @param {String} value The new value to be set as source
     * @param {Function} callback function(Boolean), called when the source has been set
     */
    ArticleCommunicator.prototype.setSource = function(value, callback) {
        AppAPI.request('article-source-set', {
            source: value
        }, callback);
    };

    /**
     * Get the status for the article
     *
     * @param {Function} callback function(String), current status
     */
    ArticleCommunicator.prototype.getStatus = function(callback) {
        AppAPI.request('article-status-get', null, callback);
    };

    /**
     * Set the status for the article
     *
     * @param {String} status The new status to be set (draft, waiting, published)
     * @param {Function} callback function(Boolean), called when the source has been set
     */
    ArticleCommunicator.prototype.setStatus = function(status, callback) {
        AppAPI.request('article-status-set', {
            status: status
        }, callback);
    };

    /**
     * Get the published-date
     *
     * @param {Function} callback function(String), current published datetime
     */
    ArticleCommunicator.prototype.getPublishedDatetime = function(callback) {
        AppAPI.request('article-published-get', null, callback);
    };

    /**
     * Set the published-date
     *
     * @param {String} published Date to be set (YYYY-MM-DD HH:MM:SS)
     * @param {Function} callback function(Boolean), called when done
     */
    ArticleCommunicator.prototype.setPublishedDatetime = function(published, callback) {
        AppAPI.request('article-published-set', {
            published: published
        }, callback);
    };

    /**
     * Get the authors set in the article
     *
     * @param {Function} callback function([String]), currently set authors
     */
    ArticleCommunicator.prototype.getAuthors = function(callback) {
        AppAPI.request('article-authors-get', null, callback);
    };

    /**
     * Set authors for the article
     *
     * @param {Array} authors List of authors that should be set
     * @param {Function} callback function(Boolean), called when it has been set
     */
    ArticleCommunicator.prototype.setAuthors = function(authors, callback) {
        AppAPI.request('article-authors-set', {
            authors: authors
        }, callback);
    };

    /**
     * Add the given authors to the list of authors
     *
     * @param {Array} authors List of authors to add
     * @param {Function} callback function(Boolean), called when it has been set
     */
    ArticleCommunicator.prototype.addAuthors = function(authors, callback) {
        AppAPI.request('article-authors-add', {
            authors: authors
        }, callback);
    };

    /**
     * Remove the given authors from the list of authors
     *
     * @param {Array} authors List of authors to remove
     * @param {Function} callback function([String]), author list as it is after the authors has been removed
     */
    ArticleCommunicator.prototype.removeAuthors = function(authors, callback) {
        AppAPI.request('article-authors-remove', {
            authors: authors
        }, callback);
    };

    /**
     * Get the dossiers set in the article
     *
     * @param {Function} callback function([Object Dossiers]), current dossiers
     */
    ArticleCommunicator.prototype.getDossiers = function(callback) {
        AppAPI.request('article-dossiers-get', null, callback);
    };

    /**
     * Add the given dossiers to the list of dossiers
     *
     * @param {Array} dossiers List of dossiers to add
     * @param {Function} callback function(Boolean), called when it has been set
     */
    ArticleCommunicator.prototype.addDossiers = function(dossiers, callback) {
        AppAPI.request('article-dossiers-add', {
            dossiers: dossiers
        }, callback);
    };

    /**
     * Set the keyword-list on the article
     *
     * @param {Array} keywords List of keywords to add
     * @param {Function} callback Function to call when keywords have been set
     */
    ArticleCommunicator.prototype.setKeywords = function(keywords, callback) {
        AppAPI.request('article-keywords-set', {
            keywords: keywords
        }, callback);
    };

    /**
     * Get the current set of keywords on the article
     *
     * @param {Function} callback Function to call with the result
     */
    ArticleCommunicator.prototype.getKeywords = function(callback) {
        AppAPI.request('article-keywords-get', null, callback);
    };

    /**
     * Remove the given dossiers from the list of dossiers
     *
     * @param {Array} dossiers List of authors to remove
     * @param {Function} callback function([Object Dossiers]), current dossiers
     */
    ArticleCommunicator.prototype.removeDossiers = function(dossiers, callback) {
        AppAPI.request('article-dossiers-remove', {
            dossiers: dossiers
        }, callback);
    };

    /**
     * Gets the current article content
     *
     * @param {Function} callback function(Object Content)
     */
    ArticleCommunicator.prototype.getCurrentContent = function(callback) {
        AppAPI.request('article-content-get', null, callback);
    };

    /**
     * Updates current article content
     *
     * @param {String} content The new content for the article
     * @param {Function} callback function(Boolean), called when it has been set
     */
    ArticleCommunicator.prototype.setCurrentContent = function(content, callback) {
        AppAPI.request('article-content-set', {
            content: content
        }, callback);
    };

    /**
     * Get the article type of the current article
     *
     * @param {Function} callback function(Int)
     */
    ArticleCommunicator.prototype.getArticletypeId = function(callback) {
        AppAPI.request('article-type-get', null, callback);
    };

    /**
     * Set the article type of the current article
     *
     * @param {Number} articletypeId The new article type of the article
     * @param {Function} callback function(Boolean), called when it has been set
     */
    ArticleCommunicator.prototype.setArticletypeId = function(articletypeId, callback) {
        AppAPI.request('article-type-set', {
            articletype: articletypeId
        }, callback);
    };

    /**
     * Maximize the app view
     *
     * @param {String} title Title to give the maximized view
     * @param {function} onClose Function to call when the window is closed/minimized
     */
    ArticleCommunicator.prototype.maximizeAppWindow = function(title, onClose) {
        var event = 'editor-pane-close-' + new Date().getTime();

        AppAPI.request('editor-pane-maximize', {
            title : title,
            event : event
        });
        AppAPI.eventListeners.removeAll(event);
        AppAPI.eventListeners.add(event, onClose);
    };

    /**
     * Restore the app pane to the default size
     *
     * @param {function} callback Callback to call after everything is done
     */
    ArticleCommunicator.prototype.restoreAppWindow = function(callback) {
        AppAPI.request('restore-app-window', {}, callback);
    };

    /**
     * Get the current byline
     *
     * @param {function} callback function(String), xml string with the current byline
     */
    ArticleCommunicator.prototype.getByline = function(callback) {
        AppAPI.request("article-byline-get", null, callback);
    };

    /**
     * Set the byline
     *
     * @param {String} byline XML version of byline to use
     * @param {Boolean} save If true, force save after updating byline information
     * @param {Function} callback function(Boolean), called when it has been set
     */
    ArticleCommunicator.prototype.setByline = function(byline, save, callback) {
        AppAPI.request('article-byline-set', {
            save: save,
            byline: byline
        }, callback);
    };

    /**
     * Set geolocation
     *
     * @param {Object} geolocations The location to set
     * @param {Function} callback function(Boolean), called when it has been set
     */
    ArticleCommunicator.prototype.setGeolocations = function(geolocations, callback) {
        AppAPI.request('article-geolocations-set', {
            geolocations: geolocations
        }, callback);
    };

    /**
     * Get geolocation
     *
     * @param {Function} callback function(Object), retrieves the currently set geo location
     */
    ArticleCommunicator.prototype.getGeolocations = function(callback) {
        AppAPI.request("article-geolocations-get", null, callback);
    };

    return new ArticleCommunicator();

})();
</pre>
	</article>
</section>





				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="copyright">
		DocStrap Copyright © 2012-2014 The contributors to the JSDoc3 and DocStrap projects.
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a>
		on Tue Dec 9th 2014 using the <a
			href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<br clear="both">
		</div>

	</div>
	<!--<script src="scripts/sunlight.js"></script>-->
	<script src="scripts/docstrap.lib.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>

	<script>
		$( function () {
			$( "[id*='$']" ).each( function () {
				var $this = $( this );

				$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
			} );

			$( "#toc" ).toc( {
				anchorName  : function ( i, heading, prefix ) {
					return $( heading ).attr( "id" ) || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : "100px"
			} );

			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );
			$( '.dropdown-toggle' ).dropdown();
//			$( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

			$( ".tutorial-section pre, .readme-section pre" ).each( function () {
				var $this = $( this );

				var example = $this.find( "code" );
				exampleText = example.html();
				var lang = /{@lang (.*?)}/.exec( exampleText );
				if ( lang && lang[1] ) {
					exampleText = exampleText.replace( lang[0], "" );
					example.html( exampleText );
					lang = lang[1];
				} else {
					lang = "javascript";
				}

				if ( lang ) {

					$this
						.addClass( "sunlight-highlight-" + lang )
						.addClass( "linenums" )
						.html( example.html() );

				}
			} );

			Sunlight.highlightAll( {
				lineNumbers : true,
				showMenu : true,
				enableDoclinks : true
			} );
		} );
	 </script>



	<!--Navigation and Symbol Display-->
	


	<!--Google Analytics-->
	

</body>
</html>
