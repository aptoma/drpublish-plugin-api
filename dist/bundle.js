!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PluginAPI=t():e.PluginAPI=t()}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,exports){var t=function(){"use strict";var e=function(){this.DEBUG=!1,this.Version="1.0",this.Editor=null,this.Article=null,this.errorListeners=new Listeners,this.eventListeners=new Listeners,this.appName="",this.selectedPluginElement=null;var e=this;pm.bind("event",function(o){var n=function(e){return function(o){t.request(e,o)}},r=function(e){for(var t in e)e.hasOwnProperty(t)&&("object"==typeof e[t]&&null!==e[t]&&"function"===e[t].type?e[t]=n(e[t].eventKey):"object"==typeof e[t]&&null!==e[t]&&"function"==typeof e[t].map?e[t]=e[t].map(r):"object"==typeof e[t]&&null!==e[t]&&(e[t]=r(e[t])));return e};return o.data=r(o.data),o=e.eventListeners.notify(o.type,o.data),"undefined"==typeof o||(o===!1?{abort:!0}:o)},"*")};return e.prototype.request=function(e,t,o){var n=this;this.DEBUG&&console.info(this.getAppName()+": Requesting "+e+" from parent with data",t),t||(t={}),"undefined"==typeof o&&(o=null),"number"==typeof t.length&&(t={data:t}),t.src_app=this.getAppName();var r=function(e,t){return function(){return n.eventListeners.remove(t,t),e.apply(null,arguments)}},i=function(e,t){var o=Math.floor(1e3*Math.random()),i=e+o+"functioncallback"+(new Date).getTime(),s=r(t,i);return n.eventListeners.add(i,s),{type:"function",eventKey:i}},s=function(e){for(var t in e)if(e.hasOwnProperty(t)){var o=e[t];"function"==typeof o?e[t]=i(t,o):"object"==typeof o&&null!==o&&"function"==typeof o.map?e[t]=o.map(s):"object"==typeof o&&null!==o&&(e[t]=s(o))}return e};t=s(t),pm({target:parent,type:e,data:t,success:o,error:function(e){n.errorListeners.notify(e.type,e)},origin:"*",hash:!1})},e.prototype.openTagCreationDialog=function(e,t){this.request("create-tag",{tag:e},t)},e.prototype.reloadIframe=function(){this.request("app-reload",{app:this.getAppName()})},e.prototype.getAppName=function(){return this.appName},e.prototype.setAppName=function(e){this.appName=e},e.prototype.showInfoMsg=function(e){this.request("show-message-info",{message:e})},e.prototype.showWarningMsg=function(e){this.request("show-message-warning",{message:e})},e.prototype.showErrorMsg=function(e){this.request("show-message-error",{message:e})},e.prototype.showLoader=function(e){this.request("show-loader",{message:e})},e.prototype.hideLoader=function(){this.request("hide-loader")},e.prototype.addListeners=function(e){var t=function(e){return function(t){e(t.data)}};for(var o in e)if(e.hasOwnProperty(o)){var n=e[o],r=t(n);this.on(o,r)}},e.prototype.__loadArticleRevision=function(e,t){this.request("load-revision",{revision:e},t)},e.prototype.createTag=function(e,t){this.request("tag-create",{tag:e},t)},e.prototype.searchDrLib=function(e,t){this.request("drlib-search",{query:e.query,access:e.access,secure:e.secure,success:e.success,error:e.error},t)},e.prototype.convertDomToHTML=function(e){return"object"==typeof e&&"function"==typeof e.wrap?e.wrap("<div>").parent().html():""},e.prototype.generateArticleUrl=function(e,t){this.request("generate-article-url",{id:e},t)},e.prototype.extendApi=function(e,t,o){var n=this;this.request("extend-api",{group:e,name:t,action:function(e){var t=o(e.data);n.request(e.eventKey,{data:t})}})},e.prototype.callExtendedApi=function(e,t,o,n){this.request("call-extended-api",{group:e,name:t,data:o,callback:n})},e.prototype.getCurrentUser=function(e){this.request("get-current-user",null,e)},e.prototype.getConfiguration=function(e){this.request("get-configuration",null,e)},e.prototype.getDrPublishConfiguration=function(e){this.request("get-drpublish-configuration",null,e)},e.prototype.setConfiguration=function(e,t,o){"boolean"==typeof t?t={onlyPublication:t}:"object"==typeof t&&null!==t||(t={});var n={config:e,onlyPublication:"boolean"==typeof t.onlyPublication&&t.onlyPublication,success:"function"==typeof t.success?t.success:null,error:"function"==typeof t.error?t.error:null};this.request("set-configuration",n,o)},e.prototype.emit=function(e,t){this.request("emit-api-event",{name:e,data:t})},e.prototype.on=function(e,t){var o=this;o.eventListeners.add(e,t),this.request("on-api-event",{name:e})},e.prototype.increaseRequiredActionCounter=function(e){this.request("increase-required-action-counter",{},e)},e.prototype.decreaseRequiredActionCounter=function(e){this.request("decrease-required-action-counter",{},e)},e.prototype.clearRequiredActionCounter=function(e){this.request("clear-required-action-counter",{},e)},e.prototype.setRequiredActionCounter=function(e,t){this.request("set-required-action-counter",{count:e},t)},e.prototype.create=function(){return new e},e.prototype.createEmbeddedObject=function(e,t){this.request("create-embedded-object",{typeId:e,callback:t})},e.prototype.getEmbeddedObjectTypes=function(e){this.request("get-embedded-object-types",null,e)},e.prototype.giveFocus=function(e,t,o){return"string"==typeof e&&""!==e&&("boolean"!=typeof o&&(o=!0),this.request("give-focus",{pluginName:e,start:o,argument:t}),!0)},e.prototype.hide=function(){return this.request("hide"),!0},e.prototype.createModal=function(e,t){return this.request("create-custom-modal",{content:e,options:t}),!0},e.prototype.updateModal=function(e){return this.request("update-custom-modal",{content:e}),!0},e.prototype.closeModal=function(e){return this.request("close-custom-modal",{destroy:e}),!0},e.prototype.getModalInputs=function(e){this.request("get-custom-modal-inputs",null,e)},e.prototype.confirmAuthenticated=function(){this.request("confirm-authenticated",{pluginName:this.appName})},new e}()}])});
//# sourceMappingURL=bundle.js.map