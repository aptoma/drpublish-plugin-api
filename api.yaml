# Events to be exchanged between DrPublish plugin and DrPublish panel
from-plugin:
  - event: plugin-reload
    desc: Reload the given plugin
    parameters:
      plugin:
        type: string
        desc: Used to identify the plugin to reload
  - event: show-message-info
    desc: Show an info message to the user
    parameters:
      message:
        type: string
        desc: The message to display
  - event: show-message-warning
    desc: Show a warning message to the user
    parameters:
      message:
        type: string
        desc: The message to display
  - event: show-message-error
    desc: Show an error message to the user
    parameters:
      message:
        type: string
        desc: The message to display
  - event: load-revision
    desc: Load the given revision of the current article
    parameters:
      revision:
        type: integer
        desc: The revision to load
  - event: create-tag
    desc: Create a new tag
    parameters:
      tag:
        type: string
        desc: The tag to create
  - event: get-categories
    desc: Gets all categories
    returns:
      type: set
      desc: Set of all categories
  - event: get-parent-categories
    desc: Gets all parent categories of the given category
    parameters:
      category:
        type: object
        desc: The category to get the parents of
    returns:
      type: array
      desc: Array of parent category objects
  - event: get-tag-types
    desc: Gets all tag types
    returns:
      type: set
      desc: Set of all tag types
  - event: get-tag-type
    desc: Gets data about the given tag type
    parameters:
      id:
        type: integer
        desc: The id of the tag type
    returns:
      type: object
      desc: DPEditor.tagTypes[id]
  - event: editor-clear
    desc: Clear the editor
  - event: editor-seek
    desc: Seek to a position in the editor
    parameters:
      position:
        type: start|end
        desc: Where to seek to
  - event: editor-insert
    desc: Insert element into editor
    parameters:
      element:
        type: DOMElement|string
        desc: The element or string to insert
  - event: editor-menu-element-hide
    desc: Hide an element from the editor menu panel
    parameters:
      element:
        type: string
        desc: The name of the item to remove
  - event: editor-menu-element-add
    desc: Add an element to the editor menu
    parameters:
      element:
        type: string
        desc: The name of the menu item to add
      event:
        type: string
        desc: The event type to send when the menu item is clicked
      prepend:
        type: boolean
        desc: "True to prepend, False to append"
  - event: editor-menu-label-add
    desc: Add a label to the editor menu
    parameters:
      label:
        type: string
        desc: The label to add
  - event: editor-update
    desc: Update the editor
  - event: editor-element-attribute-set-byid
    desc: Set an attribute value by element ID
    parameters: 
      id:
        type: string
        desc: ID of the element to change the attribute of
      attribute:
        type: string
        desc: The attribute to set
      value:
        type: string
        desc: The value to set the attribute to
  - event: editor-element-attribute-set-byselector
    desc: Set an attribute value by element selector
    parameters: 
      selector:
        type: string
        desc: The selector for finding the element to set the attribute on
      attribute:
        type: string
        desc: The attribute to set
      value:
        type: string
        desc: The value to set the attribute to
  - event: editor-element-style-set-byid
    desc: Set a style attribute value by element ID
    parameters: 
      id:
        type: string
        desc: ID of the element to change the attribute of
      attribute:
        type: string
        desc: The style attribute to set
      value:
        type: string
        desc: The value to set the attribute to
  - event: editor-element-style-set-byselector
    desc: Set a style attribute value by element selector
    parameters: 
      selector:
        type: string
        desc: The selector for finding the element to set the attribute on
      attribute:
        type: string
        desc: The style attribute to set
      value:
        type: string
        desc: The value to set the attribute to
  - event: plugin-start
    desc: Start the given plugin
    parameters:
      plugin:
        type: string
        desc: Name of the plugin to start
      options:
        type: JSON
        desc: Options for starting the plugin
  - event: plugin-stop
    desc: Stop the given plugin
    parameters:
      plugin:
        type: string
        desc: Name of the plugin to start
  - event: article-id-get
    desc: Get the ID of the current article
    returns:
      type: int
      desc: ID of the current article
  - event: article-metainfo-clear
    desc: Clear the meta info summary
  - event: article-tags-get
    desc: Get the tags for the current article
    returns:
      type: [string]
      desc: All tags used in the article
  - event: article-tags-set
    desc: Set the tags for the current article
    parameters:
      tags: 
        type: array
        desc: Tags to set
  - event: article-tags-add
    desc: Add the given tag to the tags of the current article
    parameters:
      tag:
        type: string
        desc: Tag to add
  - event: article-tags-remove
    desc: Remove the given tag from the tags of the current article
    parameters:
      tag:
        type: string
        desc: Tag to remove
  - event: article-categories-selected-get
    desc: Get selected categories
    returns:
      type: array
      desc: List of IDs for the selected categories
  - event: article-categories-selected-set
    desc: Set selected categories
    parameters:
      categories:
        type: array
        desc: List of IDs for the selected categories
  - event: article-categories-add
    desc: Add the given categories
    parameters:
      categories:
        type: array
        desc: List of IDs for the categories to add
  - event: article-categories-remove
    desc: Remove the given categories
    parameters:
      categories:
        type: array
        desc: List of IDs for the categories to remove
  - event: article-categories-main-set
    desc: Set the main category of the current article
    parameters:
      category:
        type: integer
        desc: ID of the category to set as main category
  - event: article-source-get
    desc: Get the source of the current article
    returns:
      type: string
      desc: The source of the current article
  - event: article-source-set
    desc: Set the source of the current article
    parameters:
      source:
        type: string
        desc: What to set the source to
  - event: article-status-get
    desc: Get the status of the current article
    returns:
      type: string
      desc: The status of the current article
  - event: article-status-set
    desc: Set the status of the current article
    parameters:
      status:
        type: string
        desc: What to set the status to
  - event: article-published-get
    desc: Get the published date of the current article
    returns:
      type: string
      desc: The published date of the current article
  - event: article-published-set
    desc: Set the published date of the current article
    parameters:
      published:
        type: string
        desc: What to set the published date to
  - event: article-authors-get
    desc: Get authors for the current article
    returns:
      type: array
      desc: List of authors
  - event: article-authors-set
    desc: Set authors for the current article
    parameters:
      authors:
        type: array
        desc: List of authors
  - event: article-authors-add
    desc: Add the given authors
    parameters:
      authors:
        type: array
        desc: List of authors to add
  - event: article-authors-remove
    desc: Remove the given authors
    parameters:
      authors:
        type: array
        desc: List of authors to remove
  - event: article-content-get
    desc: Get the current article content
    returns:
      type: string
      desc: The current article content
  - event: article-content-set
    desc: Set the content of the current article
    parameters:
      content:
        type: string
        desc: The new content of the article
  - event: article-type-get
    desc: Get the type of the current article
    returns:
      type: integer
      desc: The ID of the type of the current article
  - event: article-type-set
    desc: Set the article type for the current article
    parameters:
      articletype:
        type: integer
        desc: The new article type of the article
to-plugin:
  - event: event
    desc: Sent when an event occurs in DrPublish
    parameters:
      event:
        type: string
        desc: The type of event that occured
      data:
        type: object
        desc: Data associated with the event